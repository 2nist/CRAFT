@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  html, body, #root {
    @apply min-h-screen text-slateish font-poppins;
  }
  /* Keep the base sand color on body/html only */
  html, body { @apply bg-sand; }
  body {
    @apply text-foreground;
  }
  button:not([class*="btn"]):not([class*="bg-"]) {
    @apply inline-flex items-center justify-center gap-1 px-1.5 text-sm font-medium tracking-wide rounded-lg transition-colors duration-150 ease-out;
    padding-top: 0.1875rem;
    padding-bottom: 0.1875rem;
    background-color: transparent;
    border: 1px solid #475569;
    color: inherit;
  }
  button:not([class*="btn"]):not([class*="bg-"]):hover:not(:disabled) {
    border-color: #fb923c;
  }
  button:disabled {
    @apply cursor-not-allowed opacity-60;
  }
  
  :root {
    /* HSL Values (Hue Saturation Lightness) - Wrapper removed for config compatibility */
    --background: 40.0000 60.0000% 98.0392%;
    --foreground: 20.8696 18.4000% 24.5098%;
    --card: 36.0000 41.6667% 95.2941%;
    --card-foreground: 20.8696 18.4000% 24.5098%;
    --popover: 36.0000 41.6667% 95.2941%;
    --popover-foreground: 20.8696 18.4000% 24.5098%;
    --primary: 25.9649 90.4762% 37.0588%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 20%;
    --secondary-foreground: 32.3077 46.4286% 78.0392%;
    --muted: 39.1304 45.0980% 90.0000%;
    --muted-foreground: 25.0000 5.2632% 44.7059%;
    --accent: 32.3077 46.4286% 78.0392%;
    --accent-hsl: 32.3077 46.4286% 78.0392%; /* Kept for backwards compatibility */
    --accent-foreground: 33.3333 5.4545% 32.3529%;
    --destructive: 0 70% 35.2941%;
    --destructive-foreground: 0 0% 100%;
    --border: 43.5000 42.5532% 81.5686%;
    --input: 43.5000 42.5532% 81.5686%;
    --ring: 25.9649 90.4762% 37.0588%;

    /* Legacy color mappings for backwards compatibility */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --danger: 0 84% 60%;
    --danger-foreground: 0 0% 100%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;
    --brown: 30 25% 40%;
    --olive: 80 25% 40%;

    /* Chart and Sidebar Colors */
    --chart-1: 25.9649 90.4762% 37.0588%;
    --chart-2: 25.0000 5.2632% 44.7059%;
    --chart-3: 35.4545 91.6667% 32.9412%;
    --chart-4: 25.0000 5.2632% 44.7059%;
    --chart-5: 40.6061 96.1165% 40.3922%;
    --sidebar: 39.1304 45.0980% 90.0000%;
    --sidebar-foreground: 20.8696 18.4000% 24.5098%;
    --sidebar-primary: 25.9649 90.4762% 37.0588%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 35.4545 91.6667% 32.9412%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 43.5000 42.5532% 81.5686%;
    --sidebar-ring: 25.9649 90.4762% 37.0588%;

    /* Typography and Radius */
    --font-sans: Poppins, ui-sans-serif, sans-serif, system-ui;
    --font-serif: Bungee, ui-serif, serif;
    --font-mono: Bungee, ui-serif, serif;
    --radius: 0.3rem;

    /* Shadow Variables */
    --shadow-x: 0px;
    --shadow-y: 2px;
    --shadow-blur: 3px;
    --shadow-spread: 0px;
    --shadow-opacity: 0.18;
    --shadow-color: hsl(28 18% 25%);
    --shadow-2xs: 0px 2px 3px 0px hsl(28 18% 25% / 0.09);
    --shadow-xs: 0px 2px 3px 0px hsl(28 18% 25% / 0.09);
    --shadow-sm: 0px 2px 3px 0px hsl(28 18% 25% / 0.18), 0px 1px 2px -1px hsl(28 18% 25% / 0.18);
    --shadow: 0px 2px 3px 0px hsl(28 18% 25% / 0.18), 0px 1px 2px -1px hsl(28 18% 25% / 0.18);
    --shadow-md: 0px 2px 3px 0px hsl(28 18% 25% / 0.18), 0px 2px 4px -1px hsl(28 18% 25% / 0.18);
    --shadow-lg: 0px 2px 3px 0px hsl(28 18% 25% / 0.18), 0px 4px 6px -1px hsl(28 18% 25% / 0.18);
    --shadow-xl: 0px 2px 3px 0px hsl(28 18% 25% / 0.18), 0px 8px 10px -1px hsl(28 18% 25% / 0.18);
    --shadow-2xl: 0px 2px 3px 0px hsl(28 18% 25% / 0.45);
    --tracking-normal: 0em;
    --spacing: 0.25rem;
  }

  .dark {
    /* HSL Values (Hue Saturation Lightness) - Wrapper removed for config compatibility */
    --background: 24 9.8039% 10%;
    --foreground: 60 4.7619% 95.8824%;
    --card: 12.0000 6.4935% 15.0980%;
    --card-foreground: 60 4.7619% 95.8824%;
    --popover: 12.0000 6.4935% 15.0980%;
    --popover-foreground: 60 4.7619% 95.8824%;
    --primary: 24.5815 94.9791% 53.1373%;
    --primary-foreground: 0 0% 100%;
    --secondary: 33.3333 5.4545% 32.3529%;
    --secondary-foreground: 20 5.8824% 90%;
    --muted: 30 10.3448% 11.3725%;
    --muted-foreground: 24.0000 5.4348% 63.9216%;
    --accent: 198.4615 46.4286% 21.9608%;
    --accent-hsl: 198.4615 46.4286% 21.9608%; /* Kept for backwards compatibility */
    --accent-foreground: 20 5.8824% 90%;
    --destructive: 0 72.2222% 50.5882%;
    --destructive-foreground: 0 0% 100%;
    --border: 30 6.2500% 25.0980%;
    --input: 30 6.2500% 25.0980%;
    --ring: 24.5815 94.9791% 53.1373%;

    /* Legacy color mappings for backwards compatibility */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --danger: 0 84% 60%;
    --danger-foreground: 0 0% 100%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;
    --brown: 30 25% 60%;
    --olive: 80 25% 60%;

    /* Chart and Sidebar Colors */
    --chart-1: 24.5815 94.9791% 53.1373%;
    --chart-2: 198.6301 88.6640% 48.4314%;
    --chart-3: 45.3982 93.3884% 47.4510%;
    --chart-4: 24.0000 5.4348% 63.9216%;
    --chart-5: 25.0000 5.2632% 44.7059%;
    --sidebar: 12.0000 6.4935% 15.0980%;
    --sidebar-foreground: 60 4.7619% 95.8824%;
    --sidebar-primary: 24.5815 94.9791% 53.1373%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 198.6301 88.6640% 48.4314%;
    --sidebar-accent-foreground: 212.3077 73.0337% 17.4510%;
    --sidebar-border: 30 6.2500% 25.0980%;
    --sidebar-ring: 24.5815 94.9791% 53.1373%;

    /* Typography and Radius */
    --font-sans: Poppins, ui-sans-serif, sans-serif, system-ui;
    --font-serif: Bungee, ui-serif, serif;
    --font-mono: Bungee, ui-serif, serif;
    --radius: 0.3rem;

    /* Shadow Variables */
    --shadow-x: 0px;
    --shadow-y: 2px;
    --shadow-blur: 3px;
    --shadow-spread: 0px;
    --shadow-opacity: 0.18;
    --shadow-color: hsl(0 0% 5%);
    --shadow-2xs: 0px 2px 3px 0px hsl(0 0% 5% / 0.09);
    --shadow-xs: 0px 2px 3px 0px hsl(0 0% 5% / 0.09);
    --shadow-sm: 0px 2px 3px 0px hsl(0 0% 5% / 0.18), 0px 1px 2px -1px hsl(0 0% 5% / 0.18);
    --shadow: 0px 2px 3px 0px hsl(0 0% 5% / 0.18), 0px 1px 2px -1px hsl(0 0% 5% / 0.18);
    --shadow-md: 0px 2px 3px 0px hsl(0 0% 5% / 0.18), 0px 2px 4px -1px hsl(0 0% 5% / 0.18);
    --shadow-lg: 0px 2px 3px 0px hsl(0 0% 5% / 0.18), 0px 4px 6px -1px hsl(0 0% 5% / 0.18);
    --shadow-xl: 0px 2px 3px 0px hsl(0 0% 5% / 0.18), 0px 8px 10px -1px hsl(0 0% 5% / 0.18);
    --shadow-2xl: 0px 2px 3px 0px hsl(0 0% 5% / 0.45);
  }
}

/* Accent color overrides - apply custom accent color to blue classes */
.text-blue-600, .text-blue-500, .text-blue-400 {
  color: hsl(var(--accent-hsl)) !important;
}

.bg-blue-600, .bg-blue-500 {
  background-color: hsl(var(--accent-hsl)) !important;
}

.bg-blue-50 {
  background-color: hsl(var(--accent-hsl) / 0.1) !important;
}

.dark .bg-blue-50 {
  background-color: hsl(var(--accent-hsl) / 0.15) !important;
}

.border-blue-600, .border-blue-500, .border-blue-400 {
  border-color: hsl(var(--accent-hsl)) !important;
}

.hover\:bg-blue-600:hover, .hover\:bg-blue-700:hover {
  background-color: hsl(var(--accent-hsl) / 0.9) !important;
}

.hover\:border-blue-500:hover {
  border-color: hsl(var(--accent-hsl)) !important;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Background watermark/logo overlay - commented out due to missing file */
/*
:root { --bg-logo-opacity: 0.2; }

#root::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: url('/Craft_Logo_BG.png');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  opacity: var(--bg-logo-opacity);
  pointer-events: none;
  z-index: 0;
}
*/

/* Ensure app content sits above the watermark */
/* #root { position: relative; background-color: transparent !important; } */
/* #root > * { position: relative; z-index: 1; } */

@layer components {
  .ca-input {
    @apply w-full px-[0.2rem] py-[0.2rem] bg-white border border-gray-300 rounded-xs2 text-basec text-slateish transition focus:outline-none focus:border-accent focus:ring-2;
    box-shadow: 0 0 0 0 transparent;
  }
  .ca-input:focus {
    box-shadow: 0 0 0 2px hsl(var(--accent-hsl) / 0.2);
  }
  .ca-select { @apply ca-input; }
  .ca-label { @apply block mb-[0.1rem] text-sm font-medium text-slateish; }

  .ca-stat {
    @apply bg-white px-[0.375rem] py-[0.2rem] rounded-sm2 shadow-card flex flex-col justify-center transition;
  }
  .ca-stat-title { @apply font-medium tracking-wider uppercase text-xs2 text-slateish; }
  .ca-stat-value { @apply text-base font-bold text-accent mt-[0.1rem] break-words; }

  .ca-tabs { @apply border-b-2 border-tea mb-[-2px]; }
  .ca-tab {
    @apply px-[0.3rem] py-[0.2rem] rounded-t-sm2 font-semibold text-slateish text-sm transition border border-transparent border-b-0 text-center flex-1;
  }
  .ca-tab:not(.active):hover { @apply bg-eggshell text-accent; }
  .ca-tab.active {
    @apply text-accent bg-eggshell;
    border-bottom: 3px solid hsl(var(--accent-hsl));
  }
  .ca-tab-panel { @apply bg-eggshell p-[0.375rem] rounded-sm2 shadow-panel; }

  .ca-number {
    @apply font-bungee text-lgc leading-[1.1] text-accent break-all;
  }
  .ca-price-hero { @apply text-lgp; }
  
  /* Accessible button base â€” prefer this for all interactive buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-3 py-1.5 rounded-xs2 text-sm font-semibold transition-colors border border-transparent shadow-sm;
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }
  .btn:hover:not(:disabled) { opacity: 0.98; }
  .btn:disabled { @apply cursor-not-allowed opacity-60; }
  .btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.22);
    border-color: hsl(var(--ring));
  }

  /* Backwards-compatible CA button classes build on the accessible base */
  .ca-btn {
    @apply px-2 py-1 text-sm font-semibold text-white transition-colors border border-transparent shadow-sm rounded-xs2;
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }
  .ca-btn:hover:not(:disabled) { opacity: 0.98; }
  .ca-btn:focus-visible { outline: none; box-shadow: 0 0 0 3px hsl(var(--ring) / 0.22); border-color: hsl(var(--ring)); }
  /* Ensure all CA button variants have the accessible focus-visible ring */
  .ca-btn-primary:focus-visible,
  .ca-btn-outline:focus-visible,
  .ca-btn-success:focus-visible,
  .ca-btn-danger:focus-visible,
  .ca-btn-info:focus-visible,
  .ca-btn-secondary:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.22);
    border-color: hsl(var(--ring));
  }

  .ca-btn-outline {
    @apply px-2 py-1 text-sm transition-colors bg-transparent border text-accent border-accent rounded-xs2;
  }
  .ca-btn-outline:hover { 
    background-color: hsl(var(--accent-hsl) / 0.08);
  }

  /* Design System Button Utilities */
  .ca-btn-primary {
    @apply px-2 py-1 text-sm font-semibold text-white transition-colors border border-transparent shadow-sm rounded-xs2;
    background-color: hsl(var(--primary));
  }
  .ca-btn-primary:hover {
    background-color: hsl(var(--accent) / 0.85);
  }

  .ca-btn-success {
    @apply px-2 py-1 text-sm font-semibold transition-colors border border-transparent shadow-sm rounded-xs2;
    background-color: hsl(var(--success));
    color: hsl(var(--success-foreground));
  }
  .ca-btn-success:hover {
    background-color: hsl(var(--success) / 0.85);
  }

  .ca-btn-danger {
    @apply px-2 py-1 text-sm font-semibold transition-colors border border-transparent shadow-sm rounded-xs2;
    background-color: hsl(var(--danger));
    color: hsl(var(--danger-foreground));
  }
  .ca-btn-danger:hover {
    background-color: hsl(var(--danger) / 0.85);
  }

  .ca-btn-info {
    @apply px-2 py-1 text-sm font-semibold transition-colors border border-transparent shadow-sm rounded-xs2;
    background-color: hsl(var(--info));
    color: hsl(var(--info-foreground));
  }
  .ca-btn-info:hover {
    background-color: hsl(var(--info) / 0.85);
  }

  .ca-btn-secondary {
    @apply px-2 py-1 text-sm font-semibold transition-colors border shadow-sm rounded-xs2;
    background-color: transparent;
    border-color: #475569;
    color: inherit;
  }
  .ca-btn-secondary:hover {
    border-color: #fb923c;
  }
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
  font-variant-numeric: tabular-nums;
}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

/* Fade-in animation for generated results */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}



